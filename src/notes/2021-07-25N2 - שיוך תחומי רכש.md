---
layout: mynote
tags: [document, op, apex, purchasing, mermaid, po ]
created: 2021-07-25 16:12
modified: 2021-07-25 16:12
type: Document
title: תזכיר  2021-07-25
---
Week Of: [[2021-07-25]]
[[2021-07-25]]

# שיוך תחומי רכש - אפליקציה 103
[[home]]/[[Open University]]/[[APEX]]

## רקע\תיאור
אפליקצייה 103 נועדה למחלקת הרכש.
באפליקציה זו ישנו דף מספר 13 שמציג את השיוכים של תחומי הרכש לקנייני מחלקת הרכש בתצורת Master<>Detail. נדרשת הרשאת גישה של מנהל לצורך הגישה לדף זה.
בגלל תקלה בהעברה, נמחק ככל הנראה הWizard של שיוך הקניינים ולכן נדרש לבנות אותו מחדש.
יצרתי בסביבת NEWT דף מספר 19 ובו ה-Wizard.
## נדרש לבצע
יש לבצע תהליך Process שיופעל בעת הלחיצה על הכפתור Submit ויבצע הזנת הנתונים כדלהלן:
אם בכניסה לדף מדובר בעדכון של שיוך קיים, יש לתחום את השיוך שאותו באים לבצע בתאריך המבוקש בשדה To_date וליצור שורה נוספת עבור הקניין שמעוניינים לשייך כשהערך התאריכי הנ"ל מופיע עבורו בשדה From_date.
```mermaid
graph TD
	start((כפתור Submit))
	start -. " האם קיים שורת שיוך, שתאריך הסיום שלו אינו קיים, או שתאריך הסיום מאוחר מתאריך הסיום שנבחר, עבור תחום רכש זה" --> if1{תנאי}
	if1 --> yes1[כן]
	yes1 --> do1(עדכן שדה To_date בשורה קיימת)
	if1 --> no1[לא] 
	no1 --> do2(פתח שורה חדשה עם התאריך בשדה To_date)
	do1 --> do2
	do2 --> finish((סגור מסך))
```
## תוספות ודגשים
- יש לתקן את הערך Current Buyer שבדף 19 כך שיכיל את התיאור (שם הקניין) ולא את המזהה (Buyer Id) 
- ניתן לבצע שיוכים בדיעבד (עם תאריך התחלה מוקדם מתאריך היום) וכן שיוכים עתידיים עם ההתייחסות המתאימה בלוגיקת התאריך.
- אין יכולת לבצע עריכת שיוך קיים אלא רק תוספת שורות.
- אין לאפשר חפיפת תאריכים עם שורות קיימות (כלומר, אם קיימת שורה שמסתיימת מתישהו ומזינים תאריך המוקדם מתאריך הסיום שלה, אין לאפשר זאת, אלא רק תאריך המאוחר מתאריך הסיום המאוחר ביותר)

 
 

#memo 
#op/memo