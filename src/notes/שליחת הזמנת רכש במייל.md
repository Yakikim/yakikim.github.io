---
layout: mynote
tags: [po, purchasing, mail, shell, memo, op] 
created: 2021-10-19 13:28
modified: 2021-10-19 13:28
type: Document
title: שליחת הזמנת רכש במייל 2021-10-19
---
Week Of: [[2021-10-17]]
[[2021-10-19]]


#  שליחת הזמנת רכש לספקים דרך המייל

[[home]]/[[Open University]]/[[ERP]]/[[Purchasing]]

## רקע\תיאור
התוכנית נוצרה בעבר לצורך שליחת הזמנות רכש לספקים באופן ממוכן ומסודר בצירוף הקבצים המתאימים מהזמנת הרכש. 
במקור התוכנית נוצרה כך שבלחיצה על תפריט בהזמנה ייפתח החלון של תוכנית הקונרקנט ושם המשתמש (הקניין) יוכל לבצע מקצה שינויים ושיפורים כך שהוא יוכל לשלוח את ההזמנה לנמענים שהוא מעוניין (מסך התוכנית מצרף כברירת מחדל את מכין הדרישה כנמען למייל הנשלח), שפת הטופס והמייל המצורף, איש הקשר של הספק שיקבל את המייל וכו .
ברבות הימים גם הוספתי את היכולת של הקניינים לבצע שליחה למייל שלהם עצמם וכך הם יכולים לשלוח את המייל שהם מקבלים מן המערכת אל הספקים כמענה להצעת מחיר שקיבלו ובכך התהליך הינו נוח יותר עבורם. 
כיום רוב הקנייניות משתמשות בהפקת המייל בערוץ של שליחה לעצמן והעברה מאוחרת יותר לספק בדרך המייל שלהן.

## טכנולוגיית התוכנית 
#### תוכנית הקונקרנט: 
OP:PO Print - Fax- Email (מפעילה תוכניות משנה לפי הטופס - עברית ואנגלית)
התוכנית מבצעת "הדפסה" של הטופס באמצעות "מדפסת" שהוגדרה באפליקציה 
#### מדפסת התוכנית:
הDriver שלה הוא MLM_MAIL_SEND_PO
הArguments בDriver הזה מריץ על שרת הלינוקס האפליקטיבי את הסקריפט הנמצא על השרת כדלהלן:
```shell
$MALAM_TOP/bin/mlm_mail_po_send_pdf.sh $PROFILES$.FILENAME $PROFILES$.CONC_COPIES "$PROFILES$.TITLE"
```
הסקריפט מבצע את איסוף הנתונים משרת ה-DB וביצוע שליחת המייל תוך שימוש בתוכניות שליחת המייל שהותקנו על שרת הלינוקס האפליקטיבי. 

#### Shell Script (כולל השינוים האחרונים)
[[שליחת הזמנת רכש במייל#נספח - ShellScript | להלן]] 

## עשה זאת בעצמך - שינויים ותגובות
בקשות \בעיות נפוצות ואופן הפתרון שלהן

### שינוי מלל בגוף המייל שהמערכת שולחת
מדובר בשינוי של השדה Current Message Text שבמסך אפליקציה מסוג Messages 
(Application Developer > Application > Messages)

Message Name : OPNU_PO_MAIL_BODY
> שים לב: האובייקט וכן התוכן הנשלח הינם נפרדים לעברית ואנגלית כך שכל שינוי שנעשה, באם הוא רלוונטי לשתי השפות, יש לבצע בשני האובייקטים.
 
### שינוי מלל ארוך בסוף המייל 
מדובר בשינוי (או הוספה) של הקובץ המצורף העונה לשם ADDED_HTML.txt שבמסך אפליקציה מסוג Messages 
(Application Developer > Application > Messages)
> שים לב: יש להוסיף את המלל בתצורת HTML.

Message Name : OPNU_PO_MAIL_BODY
> שים לב: האובייקט וכן התוכן הנשלח הינם **נפרדים ברמת השפה** בין עברית ואנגלית כך שכל שינוי שנעשה, באם הוא רלוונטי לשתי השפות, יש לבצע בשני האובייקטים.

### שינוי\הוספת\מחיקת קובץ מצורף קבוע
מדובר בשינוי (או הוספה\מחיקה) של הקבצים המצורפים שבמסך אפליקציה מסוג Messages 
(Application Developer > Application > Messages)
> שים לב: על הקבצים להיות בעלי שם קובץ **שאינו מכיל רווחים**.
> ניתן להוסיף כמה קבצים

Message Name : OPNU_PO_MAIL_BODY
> שים לב: התוכן הנשלח הינו **נפרד ברמת השפה** בין עברית ואנגלית כך שכל שינוי שנעשה, באם הוא רלוונטי לשתי השפות, יש לבצע בשני האובייקטים.
 
### חתימת מייל באנגלית\מספר פקס\מספר טלפון של הקניינית
לעתים נוספת קניינית חדשה, יש להוסיף את השם שלה באנגלית ברשומת העובד (People). שם ברמת הDFF של כותרת הרשומה, יש שדה ייעודי לשם הוספת השם באנגלית,מספר הפקס ומספר הטלפון של העובד. 

## נספח - ShellScript 
הנספח בגרסת [[2021-10-19]]
````ad-code
```shell
#!/bin/ksh
set -x
#   version   by        date            desc 
#   1.1       shachar   29/10/2010      remove P_BAUYER parmeters
#   1.2       shachar   02/10/2011      change to support  R12.1.3
#   1.3 	     Ayman    21/09/2014      change the message body length to be more that 255 characters by using sqlplus 11g not 10g


TARGET_SID=`hostname -s | sed 's/erp//g' | sed 's/opera/prod/g'`
#TARGET_SID=prod
export TARGET_SID
TARGET_SID_UPPER=`echo $TARGET_SID | tr "[a-z]" "[A-Z]" `
export TARGET_SID_UPPER


ORIG_CONC_OUTPUT_FILE=$1
COPIES=$2

TITLE=$3
OS=`uname`

CDATE=`date '+%Y%m%d%H%M'`

APP_USER=`echo $TITLE | awk -F"." '{ print $1 }'`
REQUEST_ID=`echo $TITLE | awk -F"." '{ print $NF }'`


LOG_DIR=$APPLCSF/$APPLLOG
LOG_FILE=l${REQUEST_ID}.req
LOGFILE=$LOG_DIR/$LOG_FILE

SENDPOMAIL_DIR=$APPLPTMP
SENDPOMAIL_LOG_DIR=$APPLPTMP
SENDPOMAIL_IN_DIR=$APPLPTMP
SENDPOMAIL_OUT_DIR=$APPLPTMP
SENDPOMAIL_LOG_FILE=sendpomail_${REQUEST_ID}.log

echo "Start              "  > $SENDPOMAIL_LOG_DIR/$SENDPOMAIL_LOG_FILE

STATUS=0

. $APPL_TOP/APPS${CONTEXT_NAME}.env



P_PARENT_REQUEST_ID=`sqlplus -s $APPS_LOGON <<EOF 
set feedback off
set verify off
set heading off
select fcr.parent_request_id
FRom fnd_concurrent_requests fcr
where fcr.request_id=$REQUEST_ID
/
EOF`



v_program=`sqlplus -s $APPS_LOGON << EOF 
set feedback off
set verify off
set heading off
select fcrs.program
from fnd_conc_req_summary_v fcrs,
     fnd_concurrent_requests fcr
where fcr.concurrent_program_id = fcrs.concurrent_program_id
and   fcr.request_id = fcrs.request_id
and fcr.request_id=$REQUEST_ID
/
EOF`



P_EMAIL=`sqlplus -s $APPS_LOGON << EOF | grep -v ^$ 
set define off
set head off
set verify off
set feed off
set linesize 1000
select r.argument6
from   fnd_concurrent_requests r
where  r.request_id = $P_PARENT_REQUEST_ID
/
EOF
`


P_REQUESTOR=`sqlplus -s $APPS_LOGON << EOF | grep -v ^$ 
set define off
set head off
set verify off
set feed off
set linesize 1000
select fu.email_address
from fnd_concurrent_requests fcr,
     fnd_user fu
where fcr.requested_by = fu.user_id
and fcr.request_id = $REQUEST_ID
/
EOF
`



PONUM=`sqlplus -s $APPS_LOGON << EOF | grep -v ^$ 
set define off
set head off
set verify off
set feed off
set linesize 1000
select pha.segment1 
from   fnd_concurrent_requests r, po_headers_all pha 
where  pha.po_header_id =  r.argument1 and 
r.request_id = $P_PARENT_REQUEST_ID
/
EOF
`


#PFILE_NAME=`sqlplus -s $APPS_LOGON << EOF 
#set define off head off verify off feed off linesize 1000
#SELECT file_name
#FROM fnd_lobs
#WHERE FILE_ID = (SELECT  DISTINCT ATT.MEDIA_ID
#                 FROM FND_ATTACHED_DOCS_FORM_VL  ATT, PO_HEADERS_ALL PHA
#                 WHERE    ATT.DATATYPE_ID = 6
#                 AND      ATT.CATEGORY_ID = 33
#                 AND      ATT.pk1_value = to_char(PHA.PO_HEADER_ID)
#                 AND      entity_name = 'PO_HEADERS'  -- add by shacahr 14.11.2011 
#                 AND      PHA.SEGMENT1 = $PONUM  )
#and rownum =1
#/
#EOF
#`
#if [ "$PFILE_NAME" != '""' ]; then
#   PFILE_NAME_2=`echo  "$PFILE_NAME" |sed 's/ /_/g'`

rm -f $APPLPTMP/$PONUM\-NO*


   sqlplus -s $APPS_LOGON << EOF
                          declare
                                 v_blob         BLOB;
                                 v_filename     varchar2(2000);
   cursor myfiles is
   SELECT rownum||'.'||substr(file_name,   nullif( instr(file_name,'.', -1) +1, 1) ) myfile,file_data
    FROM fnd_lobs
    WHERE FILE_ID in (SELECT  DISTINCT ATT.MEDIA_ID
                 FROM FND_ATTACHED_DOCS_FORM_VL  ATT, PO_HEADERS_ALL PHA
                 WHERE    ATT.DATATYPE_ID = 6
                 AND      ATT.CATEGORY_ID = 33
                 AND      ATT.pk1_value = to_char(PHA.PO_HEADER_ID)
                  AND      entity_name = 'PO_HEADERS'
                 AND      PHA.SEGMENT1 = $PONUM  );                       

   begin
     FOR file_rec IN myfiles 
   LOOP
         exportblob(p_file => '$APPLPTMP/$PONUM'||'-NO'||file_rec.myfile,p_blob => file_rec.file_data);
   END LOOP;
end;
/
EOF



 PFILE_NAMELL=`sqlplus -s $APPS_LOGON << EOF 
   set define off head off verify off feed off linesize 1000

 select  MAX(DECODE(aa,1,myfile,NULL)) ||     MAX(DECODE(aa,2,myfile,NULL)) || MAX(DECODE(aa,3,myfile,NULL)) ||   MAX(DECODE(aa,4,myfile,NULL)),bb  
        from (
 SELECT rownum aa, ' -a $PONUM-NO'||rownum||'.'||substr(file_name,   nullif( instr(file_name,'.', -1) +1, 1) ) myfile,file_data, '' bb
    FROM fnd_lobs
    WHERE FILE_ID in (SELECT  DISTINCT ATT.MEDIA_ID
                 FROM FND_ATTACHED_DOCS_FORM_VL  ATT, PO_HEADERS_ALL PHA
                 WHERE    ATT.DATATYPE_ID = 6
                 AND      ATT.CATEGORY_ID = 33
                 AND      ATT.pk1_value = to_char(PHA.PO_HEADER_ID)
                  AND      entity_name = 'PO_HEADERS'
                 AND      PHA.SEGMENT1 =  $PONUM   )) group by bb
/
EOF
`



P_CONTACT_ID=`sqlplus -s $APPS_LOGON << EOF | grep -v ^$
set define off
set head off
set verify off
set feed off
set linesize 1000
select r.argument5
from   fnd_concurrent_requests r
where  r.request_id = $P_PARENT_REQUEST_ID
/
EOF
`

P_CONTACT=`sqlplus -s $APPS_LOGON << EOF
set define off
set head off
set verify off
set feed off
set linesize 1000
select cv.name
from op_emailOrFax cv ,PO_HEADERS_all pv
where cv.vendor_id = pv.vendor_id 
and pv.segment1=$PONUM
and cv.v_contact=$P_CONTACT_ID 
/
EOF
`



P_BUYERFAXEMAIL=`sqlplus -s $APPS_LOGON << EOF | grep -v ^$
set define off
set head off
set verify off
set feed off
set linesize 1000
select r.argument9
from   fnd_concurrent_requests r
where  r.request_id = $P_PARENT_REQUEST_ID
/
EOF
`





P_BUYER=`sqlplus -s $APPS_LOGON << EOF | grep -v ^$
set define off
set head off
set verify off
set feed off
set linesize 1000
select r.argument8
from   fnd_concurrent_requests r
where  r.request_id = $P_PARENT_REQUEST_ID
/
EOF
`




P_COMMENTS=`sqlplus -s $APPS_LOGON << EOF | grep -v ^$
set define off
set head off
set verify off
set feed off
set linesize 1000
select r.argument10
from   fnd_concurrent_requests r
where  r.request_id = $P_PARENT_REQUEST_ID
/
EOF
`




P_CCC=`sqlplus -s $APPS_LOGON << EOF | grep -v ^$
set define off
set head off
set verify off
set feed off
set linesize 1000
select r.argument11
from   fnd_concurrent_requests r
where  r.request_id = $P_PARENT_REQUEST_ID
/
EOF
`




P_BCC=`sqlplus -s $APPS_LOGON << EOF | grep -v ^$
set define off
set head off
set verify off
set feed off
set linesize 1000
select r.argument12
from   fnd_concurrent_requests r
where  r.request_id = $P_PARENT_REQUEST_ID
/
EOF
`


P_LANG=`sqlplus -s $APPS_LOGON << EOF | grep -v ^$
set define off
set head off
set verify off
set feed off
set linesize 1000
select r.argument13
from   fnd_concurrent_requests r
where  r.request_id = $P_PARENT_REQUEST_ID
/
EOF
`


#yaki added for the hard doc attachements who stayed in the attachements of the Messages. it's done on 30/09/2021 due to the COVID-19 requiremetns
#P_ADDED_FILES=""
#dir="/erpShared/PO_Docs/PO_Attchments"
#for path in $dir/*; do
#    filePath="${path} "
#    P_ADDED_FILES+="-a $filePath "    #without $
#done 

#echo $P_ADDED_FILES

   sqlplus -s $APPS_LOGON << EOF
                          declare
                                 v_blob         BLOB;
                                 v_filename     varchar2(2000);
   cursor myfiles is
SELECT /*ROWNUM || '.' ||
       SUBSTR(FILE_NAME, NULLIF(INSTR(FILE_NAME, '.', -1) + 1, 1)) MYFILEO,
       */ 
       FILE_NAME MYFILE, 
       FILE_DATA
  FROM FND_LOBS
 WHERE FILE_ID IN 
 (SELECT DISTINCT ATT.MEDIA_ID
                             FROM FND_ATTACHED_DOCS_FORM_VL ATT
                            WHERE ATT.DATATYPE_ID = 6
                              AND ATT.CATEGORY_ID = 1001430
                              AND ATT.PK1_VALUE = 'OPNU_PO_MAIL_BODY'
                              AND ATT.ENTITY_NAME = 'FND_NEW_MESSAGES'
                              AND ATT.PK2_VALUE = '$P_LANG'
                           );
                     

   begin
     FOR file_rec IN myfiles 
   LOOP
         exportblob(p_file => '$APPLPTMP/' || file_rec.myfile,p_blob => file_rec.file_data);
   END LOOP;
end;
/
EOF

P_FIXED_ATTACHMENTS=`sqlplus -s $APPS_LOGON << EOF 
   set define off head off verify off feed off linesize 1000
SELECT MAX(DECODE(AA, 1, MYFILE, NULL)) || MAX(DECODE(AA, 2, MYFILE, NULL)) ||
       MAX(DECODE(AA, 3, MYFILE, NULL)) || MAX(DECODE(AA, 4, MYFILE, NULL)),
       BB
  FROM (SELECT ROWNUM AA,
              /* ' -a $PONUM-NO' || ROWNUM || '.' ||
               SUBSTR(FILE_NAME, NULLIF(INSTR(FILE_NAME, '.', -1) + 1, 1)) MYFILE,*/
              ' -a ' || file_name myfile,
               FILE_DATA,
               '' BB
          FROM FND_LOBS
         WHERE FILE_ID IN (SELECT DISTINCT ATT.MEDIA_ID
                             FROM FND_ATTACHED_DOCS_FORM_VL ATT
                            WHERE ATT.DATATYPE_ID = 6
                              AND ATT.CATEGORY_ID = 1001430
                              AND ATT.PK1_VALUE = 'OPNU_PO_MAIL_BODY'
                              AND ATT.ENTITY_NAME = 'FND_NEW_MESSAGES'
                              AND ATT.FILE_NAME <> 'ADDED_HTML.txt'
                              AND ATT.PK2_VALUE = '$P_LANG'
                           ))
 GROUP BY BB
/
EOF
`
#yaki

echo $P_LANG > /tmp/lll

ORACLE_HOME=/erp/$TARGET_SID_UPPER/${TARGET_SID}db/11.2
echo "oracle_home             ="$ORACLE_HOME >> $SENDPOMAIL_LOG_DIR/$SENDPOMAIL_LOG_FILE
LD_LIBRARY_PATH=$ORACLE_HOME/lib:/usr/dt/lib:/usr/openwin/lib:$ORACLE_HOME/ctx/lib:$ORACLE_HOME/lib32
echo "LD_LIBRARY_PATH             ="$LD_LIBRARY_PATH >> $SENDPOMAIL_LOG_DIR/$SENDPOMAIL_LOG_FILE

body=/tmp/$$$$

$ORACLE_HOME/bin/sqlplus -s $APPS_LOGON >$body <<EOF
set define off
set head off
set verify off
set feed off
set linesize 32000
set serveroutput on size 100000
declare
   v_str  varchar2(4000):=lpad('a',500,'a');
   str_len   number;
   loop_count number:=0;
begin
    if '$P_LANG' = 'IW' then
	dbms_session.set_nls('NLS_LANGUAGE','HEBREW');
    else
        dbms_session.set_nls('NLS_LANGUAGE','AMERICAN');
    end if; 
    fnd_message.SET_NAME('OPUN','OPNU_PO_MAIL_BODY');

    fnd_message.SET_TOKEN('P_COMMENTS','$P_COMMENTS');
    fnd_message.SET_TOKEN('PONUM','$PONUM');

    fnd_message.SET_TOKEN('P_BUYER','$P_BUYER');
    v_str:=fnd_message.GET;
   
    dbms_output.put_line( v_str);

end;
/
EOF


echo "body              ="$body >> $SENDPOMAIL_LOG_DIR/$SENDPOMAIL_LOG_FILE

rm -f ~/sent*

cd $APPLPTMP




MLM_FILE=o${REQUEST_ID}.out

MLM_OUTPUT_FILE=$APPLCSF/$APPLOUT/${MLM_FILE}



if [[ $P_LANG = "IW" ]]; then


	cd $SENDPOMAIL_OUT_DIR
	cp ${MLM_OUTPUT_FILE} .


	/erpShared/admin/printing/PostscriptHeb/Addfonts.sh ${MLM_FILE}
	mv ${MLM_FILE} ${MLM_FILE}".ps"
	/usr/bin/gs -sPAPERSIZE=a4 -q -dNOPAUSE -dBATCH -sDEVICE=pdfwrite -sstdout=%stderr -sOutputFile=${MLM_FILE}.pdf  -c .setpdfwrite -f ${MLM_FILE}.ps


	mv ${MLM_FILE}".pdf" $APPLPTMP/PO$PONUM.pdf 


	MLM_FILE_PDF=PO$PONUM.pdf

	echo "MLM_FILE_PDF               ="$MLM_FILE_PDF >> $SENDPOMAIL_LOG_DIR/$SENDPOMAIL_LOG_FILE

	MLM_OUTPUT_FILE_PDF=$APPLPTMP/${MLM_FILE_PDF}
else
        MLM_FILE=OP_PURCHASE_ORDER_XML_FORM_${REQUEST_ID}_1.PDF
	MLM_OUTPUT_FILE=$APPLCSF/$APPLOUT/${MLM_FILE}	
	cd $SENDPOMAIL_OUT_DIR
	cp ${MLM_OUTPUT_FILE} .
	mv ${MLM_FILE} $APPLPTMP/PO$PONUM.pdf
fi



echo "CDATE                         ="$CDATE >> $SENDPOMAIL_LOG_DIR/$SENDPOMAIL_LOG_FILE
echo "REQUEST_ID                    ="$REQUEST_ID >> $SENDPOMAIL_LOG_DIR/$SENDPOMAIL_LOG_FILE
echo "TITLE                         ="$TITLE >> $SENDPOMAIL_LOG_DIR/$SENDPOMAIL_LOG_FILE
echo "PONUM                         ="$PONUM >> $SENDPOMAIL_LOG_DIR/$SENDPOMAIL_LOG_FILE
echo "P_REQUESTOR                   ="$P_REQUESTOR >> $SENDPOMAIL_LOG_DIR/$SENDPOMAIL_LOG_FILE
echo "P_EMAIL                       ="$P_EMAIL >> $SENDPOMAIL_LOG_DIR/$SENDPOMAIL_LOG_FILE
echo "P_CCC                         ="$P_CCC >> $SENDPOMAIL_LOG_DIR/$SENDPOMAIL_LOG_FILE
echo "P_BCC                         ="$P_BCC >> $SENDPOMAIL_LOG_DIR/$SENDPOMAIL_LOG_FILE
echo "PROGRAM                       ="$v_program >> $SENDPOMAIL_LOG_DIR/$SENDPOMAIL_LOG_FILE
echo "MLM_OUTPUT_FILE               ="$MLM_OUTPUT_FILE >> $SENDPOMAIL_LOG_DIR/$SENDPOMAIL_LOG_FILE
echo "MLM_OUTPUT_FILE_PS            ="$MLM_OUTPUT_FILE_PS >> $SENDPOMAIL_LOG_DIR/$SENDPOMAIL_LOG_FILE
echo "MLM_OUTPUT_FILE_PDF           ="$MLM_OUTPUT_FILE_PDF >> $SENDPOMAIL_LOG_DIR/$SENDPOMAIL_LOG_FILE
echo "ORIG_CONC_OUTPUT_FILE         ="$ORIG_CONC_OUTPUT_FILE >> $SENDPOMAIL_LOG_DIR/$SENDPOMAIL_LOG_FILE
echo "P_FIXED_ATTACHMENTS         	="$P_FIXED_ATTACHMENTS >> $SENDPOMAIL_LOG_DIR/$SENDPOMAIL_LOG_FILE


echo "X="$X >> $SENDPOMAIL_LOG_DIR/$SENDPOMAIL_LOG_FILE
cd $APPLPTMP

MLM_FILE_PDF=PO$PONUM.pdf
MLM_FILE_PDF_2=PO$PONUM.pdf


TMPMUTTRC=/tmp/muttrc$$.tmp
export TMPMUTTRC

echo $PFILE_NAMELL

echo  'set sendmail="/usr/sbin/sendmail -f '${P_REQUESTOR}'" from="'${P_REQUESTOR}'"' >$TMPMUTTRC
echo 'set send_charset="iso-8859-8"' >>$TMPMUTTRC
echo 'set charset="iso-8859-8"' >>$TMPMUTTRC
echo 'unset use_8bitmime' >>$TMPMUTTRC
echo 'set content_type="text/html"' >>$TMPMUTTRC
#echo 'set mailcap_path="~/.mailcap_mutt"'  >>$TMPMUTTRC
#Yaki added 20211017
cat $APPLPTMP/ADDED_HTML.txt >> $body
#cat /erpShared/PO_Docs/PO_Text.txt >> $body
#yaki
if [[ $P_LANG = "IW" ]]; then
/usr/bin/mutt -F "$TMPMUTTRC"  \
             -s "הזמנת רכש מספר ${PONUM}" \
                    -i $body \
                    -b "$P_BCC" \
		    -c "$P_CCC" \
                    -a "$MLM_FILE_PDF" \
                        $PFILE_NAMELL \
                        $P_FIXED_ATTACHMENTS \
                     -- $P_EMAIL </dev/null
else
	/usr/bin/mutt -F "$TMPMUTTRC"  \
	-s "Purchase Order # ${PONUM}" \
			-i $body \
		    -c "$P_CCC" \
                    -b "$P_BCC" \
                    -a "$MLM_FILE_PDF" \
                        $PFILE_NAMELL \
                        $P_FIXED_ATTACHMENTS \
                     -- $P_EMAIL </dev/null	
fi

#rm -f *.out*
#rm  $APPLPTMP/*.pdf
STATUS=$?
echo Status=$STATUS >> $LOGFILE

#exit $STATUS


```
````

 
#memo #op/memo
